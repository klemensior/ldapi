
<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> 
<html class="no-js"> 
  <!--<![endif]-->
    <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <meta name="description" content="Language Decoder - Game changing natural language processing technology.">
      <meta name="viewport" content="width=device-width">
      <title>Language Decoder API</title>
      <link rel="stylesheet" href="css/foundation.css">
      <link rel="stylesheet" href="css/style.css">
      <link rel="stylesheet" href="font-awesome/css/font-awesome.css">
      <link rel="stylesheet" href="css/shCore.css"/>
      <link rel="stylesheet" href="css/shThemeDefault.css"/>
      <link href='http://fonts.googleapis.com/css?family=Oxygen:400,700' rel='stylesheet' type='text/css'>
      <link href='http://fonts.googleapis.com/css?family=Ubuntu:300,400,700' rel='stylesheet' type='text/css'>

      <script src="js/vendor/custom.modernizr.js"></script>
      <script src="js/shCore.js"></script>
      <script src="js/shBrushPhp.js"></script>
      
    </head>
    <body>
    <!--[if lt IE 8]>
      <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
    <![endif]-->

      <!-- Navigation -->
      <div class="fixed">
        <div class="navigation-pane">
          <div class="row">
            <div class="large-12 columns">
              <nav class="top-bar">
                <ul class="title-area">
                  <!-- Title Area -->
                  <li class="name">
                    <h1>
                      <a href="#">
                        <i class="icon-comments icon-large"></i> Language Decoder API
                      </a>
                    </h1>
                  </li>
                  <!-- Menu button for lower resolutions -->
                  <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
                </ul>
                <section class="top-bar-section">
                  <!-- Right Nav Section -->
                  <ul class="right">
                    <li>
                      <a href="start.html">Getting started</a>
                    </li>
                    <li>
                      <a href="docs.html">Documentation</a>
                    </li>
                    <li>
                      <a href="samples.html">Samples</a>
                    </li>
                    <li>
                      <a href="demo.html">Demo</a>
                    </li>
                    <li>
                      <a href="stats.html">Statistics</a>
                    </li>
                    <li>
                      <a href="account.html">Account</a>
                    </li>
                    <li class="has-form">
                      <a class="button" href="#" data-dropdown="drop">Sign In</a> <!-- Sign out po zalogowaniu -->
                      <!-- Dropdown -->
                      <div index id="drop" class="f-dropdown content" data-dropdown-content style="z-index: 999 !important;">
                        <div class="large-12 columns">
                          <h4>Sign in</h4>
                        </div>
                        <form data-abide>
                          <div class="row sign-in">
                            <div class="large-12 columns">
                              <label>Email:</label>
                              <input type="email" required placeholder="Email">
                              <small class="error">Proper email address is required.</small>
                            </div>
                          </div>
                          <div class="row sign-in">
                            <div class="large-12 columns">
                              <label>Password:</label>
                              <input type="password" required placeholder="Password">
                              <small class="error">Enter your password.</small>
                            </div>
                          </div>
                          <div class="row sign-in">
                            <div class="large-12 columns">
                              <input class="large button expand" type="submit" value="Sign In">
                            </div>
                          </div>
                        </form>
                      </div>

                    </li>
                  </ul>
                </section>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <!-- Content -->
      <div class="content-header">
        <div class="row">
          <div class="large-12 columns">
            <h1 class="header"><i class="icon-lightbulb icon-large"></i> Samples</h1>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="large-3 columns">
          <div class="section-container accordion" data-section="accordion">
            <section>
              <p class="title" data-section-title>
                <a href="#">Connection samples</a>
              </p>
              <div class="content" data-section-content>
                <ul class="side-nav">
                  <li><a href="#">Authorization</a></li>
                  <li><a href="#">CURL samples</a></li>
                  <li><a href="#">Callback sample</a></li>
                </ul>
              </div>
            </section>
            <section>
              <p class="title">
                <a href="#">Implementation samples</a>
              </p>
              <div class="content">
                <ul class="side-nav">
                  <li><a href="#">Opinion extraction</a></li>
                  <li><a href="#">Text summarization</a></li>
                </ul>
              </div>
            </section>
          </div>
        </div>
        <div class="large-9 columns">
          <div class="row docs-content">
            <h2>Ready for use code snippets</h2>
            <h4>Optimize your work or get an inspiration for an app. Check out some exemplary use cases and code snippets for applications in PHP5.</h4>
            <hr>

            <h3>Authorization</h3>
            <p>
              Before sending the query to LD API, you must perform an authorization by generating a token. To generate a token, run the getToken method. An active account, a login and a password provided in the registration process are required at this stage.
            </p>
            <pre  class="brush: php">
              require_once 'LdApiConnect.php';

              $Api = new LdApiConnect();

              $user   = 'username';
              $passwd = md5('password');

              if ($Api->logIn($username, $password)) {
                  print $Api->token;
              }
              else {
                  print $Api->error;
              }
            </pre>
            <hr>
            
            <h3>CURL samples</h3>
            <p>
              Before sending the query to LD API, you must perform an authorization by generating a token. To generate a token, run the getToken method. An active account, a login and a password provided in the registration process are required at this stage.
            </p>
            <div class="section-container auto" data-section>
              <section>
                <p class="title" data-section-title><a href="#panel1">getToken</a></p>
                <div class="content" data-section-content>
                  <pre style="white-space: pre-wrap;">curl -d login=username -d passwd=MD5_encoded_password -d method=getToken https://api.fidolabs.org/v1/</pre>
                </div>
              </section>
              <section>
                <p class="title" data-section-title><a href="#panel2">getUserInfo</a></p>
                <div class="content" data-section-content>
                  <pre style="white-space: pre-wrap;">curl -d login=username -d passwd=MD5_encoded_password -d method=getUserInfo https://api.fidolabs.org/v1/</pre>
                </div>
              </section>
              <section>
                <p class="title" data-section-title><a href="#panel2">setCallbackUrl</a></p>
                <div class="content" data-section-content>
                  <pre style="white-space: pre-wrap;">curl -d login=username -d passwd=MD5_encoded_password -d callback_url=http://my_calalback_url -d method=setCallbackUrl https://api.fidolabs.org/v1/</pre>
                </div>
              </section>
              <section>
                <p class="title" data-section-title><a href="#panel2">getGraph</a></p>
                <div class="content" data-section-content>
                  <pre style="white-space: pre-wrap;">curl -d token=MD5_encoded_token_with_passwd -d data=test -d method=getGraph http://api.fidolabs.org/v1/</pre>
                </div>
              </section>
            </div>
            <hr>

            <h3>Callback sample</h3>
            <p>
              This is an instance of a background usage - work with an API, while all of your results will be saved to a defined text file.
            </p>
            <pre  class="brush: php">
              /**
               * callback.php - sample callback,
               * saves result (JSON) as textfile
               * (filename = task_Id)
               */

              header('Content-Type: application/json; charset=utf-8; Content-Encoding: gzip; Content-Transfer-Encoding: binary');

              if (isset($_POST['result'])) {
                  
                  //required by method setCallbackUrl for url validation:
                  if ($_POST['result']=='verification') {
                      echo 'ok';
                  }
                  //save results to file:
                  //(filename = task_Id)
                  else {
                      $result = json_decode($_POST['result']);
                      if (isset($result->Id)) {
                          $outFile   = fopen($result->Id, 'w') or die("can't open file");

                          //results:
                          fwrite($outFile,$_POST['result']);

                          fclose($outFile);
                      }
                  }
              }
            </pre>
            <hr>
            
            <h3>Opinion extraction</h3>
            <p>
              Opinion extraction is one of the use cases that will give you a general idea of what can you build on top of Language Decoder. This is a tool used to extract sentiment, or emotions, opinions from any text. Ranging from happiness to usability, sentiment analysis provides developers with a tool which serves as an additional layer on top of a well-structured text. 
            </p>
            <pre  class="brush: php">
              require_once 'LdConnect.php';

              $username = 'username';
              $password = md5('password');
              $text = 'I loved this phone. This phone is the best. This phone sucks!';

              try {
                  
                  $Api = new LdConnect($username, $password);

                  //using realtime-api:
                  $Api->hasCallback(false);

                  //generate token:
                  $Api->logIn();

                  //set text:
                  $Api->setText($text);
                  
                  //get results:
                  $result = $Api->getGraph('array');
                  
                  //find sentiment in results:
                  print_r(getSentiment($result['Result']));
              }
              catch (Exception $error) {
                  print $error->getMessage();
              }

              function getSentiment($data_) {
                  if (empty($data_)) {return false;}
                  $sentiments_ = array();

                  $complements_ = array("good"=>1, "great"=>1, "nice"=>1, "fancy"=>1,
                      "awesome"=>1, "perfect"=>1, "flawless"=>1, "excellent"=>1,
                      "exceptional"=>1, "fine"=>1, "superb"=>1);

                  $likeVerbs_ = array("recommend"=>1, "approve"=>1, "endorse"=>1,
                      "commend"=>1, "praise"=>1, "like"=>1, "love"=>1,
                      "enjoy"=>1, "appreciate"=>1, "dig"=>1);

                  foreach ($data_ as $key => $phrase) {
                      $master = $phrase['connected_to'];

                      // rule #1: subject->predicate (e.g. 'My phone rocks!')
                      if (($phrase['type']=='subject')
                             && ($master>0)
                             && ($data_[$master]['type']=='predicate-main')
                             && (($data_[$master]['base']=='suck')
                                     || ($data_[$master]['base']=='rock'))) {

                         $sentiments_[] = array(
                             $key => $phrase['phrase'],
                             $master => $data_[$master]['phrase']);
                         continue;
                      }

                      // rule #2: complement->subject (e.g. This phone is the best)
                      if (($phrase['type']=='complement')
                             && ($master>0)
                             && ($data_[$master]['type']=='subject')
                             && (isset($complements_[$phrase['base']]))) {
                             
                          $sentiments_[] = array(
                              $key => $phrase['phrase'],
                              $master => $data_[$master]['phrase']);
                          continue;
                      }

                      // rule #3: object->predicate (e.g. Love this phone)
                      if (($phrase['type']=='object')
                             && ($master>0)
                             && (strpos($data_[$master]['type'],'predicate')!==false)
                             && (isset($likeVerbs_[$data_[$master]['base']]))) {

                          $sentiments_[] = array(
                              $key => $phrase['phrase'],
                              $master => $data_[$master]['phrase']);
                          continue;
                      }
                  }

                  if (!empty($sentiments_)) {
                      $results_ = array();
                      foreach ($sentiments_ as $id => $sentiment) {
                          ksort($sentiment);
                          $string = '';
                          foreach ($sentiment as $elem) {
                              $string .= $elem.' ';
                          }
                          $results_[] = trim($string);
                      }
                  }

                  return $results_;
              }
            </pre>
            <hr>

            <h3>Summarization</h3>
            <p>
              Code below enables you to create a tool for text summarization - it's just one of many instances of what can you remove from text. Leave the core meaning that is most valuable for you.
            </p>
            <pre  class="brush: php">
              require_once 'LdConnect.php';
 
              $username = 'username';
              $password = md5('password');
              $text = 'Opinion extraction is one of the use cases that will give you a general idea of what can you build on top of Language Decoder. This is a tool used to extract sentiment, or emotions, opinions from any text.';
               
              try {
                   
                  $Api = new LdConnect($username, $password);
               
                  //using realtime-api:
                  $Api->hasCallback(false);
               
                  //generate token:
                  $Api->logIn();
               
                  //set text:
                  $Api->setText($text);
                   
                  //get results:
                  $result = $Api->getGraph('array');
                   
                  //find sentiment in results:
                  print_r(simpleSummarization($result['Result']));
              }
              catch (Exception $error) {
                  print $error->getMessage();
              }

              function simpleSummarization($phrases) {
                foreach ($phrases as $phraseKey => $phraseVal) {
                    switch ($phraseVal['type']) {
                        case 'object':
                        case 'subject':
                        case 'complement':
                            foreach ($phraseVal['words'] as $wordKey => $wordVal) {
                                switch ($wordVal['component']) {
                                    case 'core':
                                    case 'specifier':
                                    case 'negator':
                                        break;
                                    default:
                                        unset($phrases[$phraseKey]['words'][$wordKey]);
                                        break;
                                }
                            }
                            break;
                        case (preg_match('/^predicate([-]{1}\S+)?$/', $phraseVal['type']) ? true : false):
                            break;
                        default:
                            unset($phrases[$phraseKey]);
                            break;
                    }
                }

                $outputString = '';
                foreach ($phrases as $phraseVal) {
                    foreach ($phraseVal['words'] as $wordVal) {
                        $outputString .= $wordVal['word'] . ' ';
                    }
                }
                return rtrim($outputString);
            }

            </pre>
            <hr>

          </div>
        </div>
      </div>
      <!-- Footer -->
      <div class="footer">
        <div class="row footer-content">
          <p class="footer-links">
            <a href="#">About us</a> · 
            <a href="#">Wiki</a><img class="footer-logo" alt="" src="img/fidolabs-logo.png">
            <a href="#">Privacy</a> · 
            <a href="#">Contact</a>
          </p>
          <p class="footer-disclaimer">© 2013 Fido Labs. All rights reserved.</p>
        </div>
      </div>


      <!-- Final scripts -->
      <div id="fb-root"></div>
      <script>(function(d, s, id) {
                var js, fjs = d.getElementsByTagName(s)[0];
                if (d.getElementById(id)) return;
                js = d.createElement(s); js.id = id;
                js.src = "//connect.facebook.net/pl_PL/all.js#xfbml=1&appId=264352513616387";
                fjs.parentNode.insertBefore(js, fjs);
              }(document, 'script', 'facebook-jssdk'));
      </script>

      <script>
        document.write('<script src=' +
        ('__proto__' in {} ? 'js/vendor/zepto' : 'js/vendor/jquery') +
        '.js><\/script>')
      </script>

      <script src="js/foundation.min.js"></script>

      <script>
        $(document).foundation();
      </script>

      <script>
          var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
          (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
          g.src='//www.google-analytics.com/ga.js';
          s.parentNode.insertBefore(g,s)}(document,'script'));
      </script>
      <!-- Syntax Highliter -->

      <script type="text/javascript">
           SyntaxHighlighter.all()
      </script>
      
    </body>
  </html>